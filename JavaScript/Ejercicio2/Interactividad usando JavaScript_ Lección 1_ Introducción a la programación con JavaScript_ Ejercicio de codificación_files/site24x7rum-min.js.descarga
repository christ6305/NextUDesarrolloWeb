var insightTMRUM=insightTMRUM||{deploy:function(t){var arr=t.tags_config;if(arr)for(var i=0;i<arr.length;i++)checkAndExecute(arr[i],arr[i].event)},createTag:function(a,b){var c=document.createElement(a);c.innerHTML=b,document.getElementsByTagName("head")[0].appendChild(c)},checkAndExecute:function(o,e){var wr=document.createElement("div");wr.innerHTML=o&&o.tag?o.tag:"";var d=wrapper.firstChild,p=d.text||d.textContent||d.innerHTML||"";"PAGEVIEW"==e&&isExecutable(o.rules)&&createTag(div.nodeName,p),"DOMREADY"==e&&(document.addEventListener?document.addEventListener("DOMContentLoaded",function(){createTag(div.nodeName,p)}):document.attachEvent("onDOMContentLoaded",function(){createTag(div.nodeName,p)})),"PAGELOADED"==e&&(document.addEventListener?document.addEventListener("load",function(){createTag(div.nodeName,p)}):document.attachEvent("onload",function(){createTag(div.nodeName,p)}))},getAttribute:function(a){var att="",w=window.location;switch(a){case"URL":att=w.href;break;case"HOSTNAME":att=w.hostname;break;case"PATH":att=w.pathname}return att},isExecutable:function(c){for(var j=0;j<c.length;c++)if(validate(getAttribute(c[i].attribute),c[i].name,c[i].condition))return!0;return!1},validate:function(a,b,c){var p=String(a),q=String(b);switch(c){case"EQUALS":return p==q;case"CONTAINS":return 0<=p.indexOf(q);case"STARTSWITH":return 0==p.indexOf(q);case"ENDSWITH":var l=p.length-q.length;return l>=0&&p.indexOf(q,l)==l;case"REGEX_MATCHES":try{{new RegExp(b)}return t.test(a)}catch(r){return!1}case"NOTEQUALS":return!(p==q);case"NOTCONTAINS":return!(0<=p.indexOf(q));case"NOTSTARTSWITH":return!(0==p.indexOf(q));case"NOTENDSWITH":var l=p.length-q.length;return!(l>=0&&p.indexOf(q,l)==l);case"NOTREGEX_MATCHES":try{{new RegExp(b)}return!t.test(a)}catch(r){return!1}}}},insightRUM={constants:{perfStats:["rdT","dnsT","conT","beT","fbT","dlT","nwT","dpT","drT","feT","totalRT"],events:["onload","onunload","onkeypress","onscroll","onclick","onerror"],initiatorTypes:["img","css","iframe","link","script","xmlhttprequest"]},colHelpers:{getFileName:function(i,f){return f&&""!=f?i.colHelpers.removeSpecialChars(f.substr(f.lastIndexOf("/")+1,f.length)):""},addSPAEvents:function(a){return 1==a?["onpushstate","onreplacestate","onpopstate"]:["onhashchange"]},pushRoutes:function(i,loc,perfTime){if("undefined"!=typeof site24x7rum&&"undefined"!=typeof site24x7rum.routeChanges){var routechange={};routechange.time=perfTime,routechange.url=loc.hash.indexOf("#")>-1?loc.hash.replace("#",""):loc.pathname,site24x7rum.routeChanges.push(routechange),i.storeLastAjax("spa")}},getCurrentTime:function(){return"now"in window.performance==0?Date.now()-window.performance.navigationStart:Math.round(window.performance.now())},getErrTxnName:function(i,txn){var tn,tsi=txn&&txn.indexOf(document.location.origin)>-1?document.location.origin.length:0;return tn=txn?txn.substr(tsi,txn.indexOf("?")>-1?txn.indexOf("?")-tsi:txn.length):document.location.pathname,tn=tn.indexOf("https")>-1||tn.indexOf("http")>-1?tn.replace(/(http|https):\/\//,""):tn,tn=i.colHelpers.removeSpecialChars(tn).replace(/[-][a-f0-9]+[0-9][a-f0-9]+/g,"-*").replace(/[-][0-9]+/g,"-*")},stackTrace:function(stack,i){for(var b,getObj=function(a,h,j,k,l){return obj={func:i.colHelpers.removeSpecialChars(a[h]),fname:i.colHelpers.getFileName(i,i.colHelpers.getFileName(i,a[j])),lineno:a[k],colno:a[l]}},stk=[],ind=stack.split("\n"),e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,m=0;m<ind.length;m++)(b=e.exec(ind[m]))?stk.push(getObj(b,1,2,3,4)):(b=f.exec(ind[m]))?stk.push(getObj(b,1,3,4,5)):(b=j.exec(ind[m]))?stk.push(getObj(b,1,2,3,4)):"";return 0==stk.length?"":stk.slice(0,stk.length>10?9:stk.length)},replaceSpecialChars:function(name){return name?name.replace(/[`~!@#$%^&_|+=?;'",<>(){}[\]]/g,""):name},removeSpecialChars:function(name){var match=/[';"%><?~!@#^&+|:]/.exec(name),index=match?match.index:-1;return name?name.substr(0,index>-1?index:name.length):name},addToSession:function(i,n,t,dt,s,e){var sE={};if(sE.nm=n,sE[t]=dt,sE.st=Math.round(s),sE.et=Math.round("undefined"!=typeof e?e:i.colHelpers.getCurrentTime()),"undefined"!=typeof site24x7rum&&"undefined"!=typeof site24x7rum.sessionTrace){var ev="scroll"==n||"typing"==n?n:"";if(site24x7rum.sessionTrace.length>0&&site24x7rum.sessionTrace[site24x7rum.sessionTrace.length-1].nm==ev){var prev=site24x7rum.sessionTrace.pop();prev.et=sE.et,site24x7rum.sessionTrace.push(prev)}else site24x7rum.sessionTrace.push(sE)}},clearBuffer:function(){performance.getEntries&&performance.getEntries().length>=150&&(performance.setResourceTimingBufferSize?performance.setResourceTimingBufferSize(performance.getEntries().length+50):performance.webkitClearResourceTimings?performance.webkitClearResourceTimings():performance.clearResourceTimings&&performance.clearResourceTimings())},addAjaxToSession:function(i,name,type,d,st){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(name);if(e&&e.length>0){var j=i.xhrCallTracker.hasOwnProperty(name)?i.xhrCallTracker[name]:0;if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration;var perf=i.colHelpers.getPerfStats(i,e[j]);i.colHelpers.addToSession(i,i.colHelpers.getFormatedTxnName(i,name),type,d,st,st+perf.totalRT)}}},getObjAsArray:function(o){var arr=new Array;for(var key in o)if(o.hasOwnProperty(key)){var obj=o[key];obj.loadTime=Math.round(obj.loadTime/obj.count),arr.push(obj)}return arr},getAsArray:function(o,l,p){for(var ret=Object.keys(o).sort(function(a,b){return o[b][p]-o[a][p]}),arr=new Array,j=0;j<ret.length;j++)if(o.hasOwnProperty(ret[j])){var obj=o[ret[j]];arr.push(obj)}return arr.slice(0,l)},getPerfStats:function(i,pe){if("undefined"!=typeof pe){var responseStart=!pe.responseStart||pe.responseStart<=0?pe.fetchStart:pe.responseStart,requestStart=0==pe.requestStart?pe.fetchStart:pe.requestStart,tsi=pe.name&&pe.name.indexOf(document.location.origin)>-1?document.location.origin.length:0,mD={};return mD.txnName=pe.name?pe.name.substr(tsi,pe.name.indexOf("?")>-1?pe.name.indexOf("?")-tsi:pe.name.length):document.location.pathname,mD.txnName=i.colHelpers.getFormatedTxnName(i,mD.txnName),mD.rdT=Math.round(pe.fetchStart>0&&pe.domainLookupStart-pe.fetchStart>0?pe.domainLookupStart-pe.fetchStart:0+(pe.redirectEnd-pe.redirectStart)),mD.dnsT=Math.round(pe.domainLookupEnd-pe.domainLookupStart),mD.conT=Math.round(pe.connectStart>0&&requestStart-pe.connectStart>0?requestStart-pe.connectStart:pe.connectEnd-pe.connectStart),mD.beT=Math.round(responseStart-requestStart),mD.dlT=responseStart>0&&pe.responseEnd-responseStart>0?Math.round(pe.responseEnd-responseStart):0,mD.nwT=Math.round(mD.rdT+mD.dnsT+mD.conT+mD.dlT),mD.fbT=Math.round(pe.responseStart>0&&pe.fetchStart>0?pe.responseStart-pe.fetchStart:mD.beT+mD.nwT-mD.dlT),pe.domComplete&&pe.domLoading?(mD.dpT=Math.round(pe.domComplete-pe.domLoading),mD.prT=Math.round(pe.loadEventEnd>0&&pe.loadEventStart>0?pe.loadEventEnd-pe.loadEventStart:0)):mD.dpT=mD.prT=0,mD.drT=Math.round(mD.dpT),mD.feT=mD.drT+mD.prT,mD.totalRT=mD.nwT+mD.beT+mD.feT,mD}},getAllResourceTimings:function(i){var entriesJson={};entriesJson.entriesList=new Array;for(var resourceTypeTotalRT={},rdc=0,domainNames=new Array,topDomainNames=new Array,temp=0;temp<i.onPageLoadEntriesLen;temp++){var entryData={},res=window.performance.getEntries()[temp];if(entryData.resource=i.colHelpers.getPerfStats(i,res),entryData.resource.totalRT>0){var matches=res.name.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i);if(matches&&matches[2]){if(-1!=i.domainsToExclude.toString().indexOf(matches[2])){rdc++;continue}entryData.st=Math.round(res.startTime),entryData.et=Math.round(res.startTime+res.duration),domainNames[matches[2]]={count:domainNames[matches[2]]?domainNames[matches[2]].count+1:1,loadTime:domainNames[matches[2]]?domainNames[matches[2]].loadTime+entryData.resource.totalRT:entryData.resource.totalRT,name:matches[2]},entryData.nm=res.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(res.initiatorType)?res.initiatorType:"Others",entryData.nm="link"==entryData.nm?"css":entryData.nm,resourceTypeTotalRT[entryData.nm]={loadTime:(resourceTypeTotalRT[entryData.nm]?resourceTypeTotalRT[entryData.nm].loadTime:0)+entryData.resource.totalRT,count:(resourceTypeTotalRT[entryData.nm]?resourceTypeTotalRT[entryData.nm].count:0)+1,name:entryData.nm},entriesJson.entriesList.push(entryData)}}}for(var sortedDomains=Object.keys(domainNames).sort(function(a,b){return domainNames[b].loadTime-domainNames[a].loadTime}),j=0;5>j&&j<sortedDomains.length;j++){var domain={};domain=domainNames[sortedDomains[j]],domain.loadTime=Math.round(domain.loadTime/domain.count),topDomainNames.push(domain)}entriesJson.entriesList.sort(function(a,b){return b.resource.totalRT-a.resource.totalRT}),domainNames=domainNames.sort(function(a,b){return a.loadTime-b.loadTime});(new Date).getTime();return entriesJson.url=i.perfStats.txnName,entriesJson.pType=i.pType,entriesJson.sT=window.performance.timing.navigationStart,entriesJson.entriesList=entriesJson.entriesList.slice(0,entriesJson.entriesList.length<100?entriesJson.entriesList.length:100),entriesJson.domainInfo=topDomainNames,entriesJson.resourcesTotal=i.colHelpers.getObjAsArray(resourceTypeTotalRT),entriesJson.resourceCT=insightRUM.onPageLoadEntriesLen-rdc,entriesJson.totalRT=i.perfStats.totalRT,entriesJson.isOnDemand=""!=i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")?i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")[1]:!1,entriesJson.endTime=i.colHelpers.getCurrentTime(),entriesJson.sescolT=Number(i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")[0]),entriesJson},getDomainMetrics:function(i,a,b,type){var domainStats={name:"-"};domainStats.domains=new Array;var matches=window.location.href.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i);matches&&matches[2]&&(domainStats.name=matches[2]),domainStats.totalRT=i.perfStats.totalRT;for(var domainData={},temp=a;b>temp;temp++){var res=window.performance.getEntries()[temp],perf=i.colHelpers.getPerfStats(i,res);if(perf.totalRT>0&&perf.totalRT<15e4){var type=res.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(res.initiatorType)?res.initiatorType:"others";type="link"==type?"css":type;var matches=res.name.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i);if(matches&&matches[2]){if(-1!=i.domainsToExclude.toString().indexOf(matches[2]))continue;domainData[matches[2]]?(domainData[matches[2]].stats.totalCT=domainData[matches[2]].stats.totalCT+1,domainData[matches[2]].stats.totalRT=domainData[matches[2]].stats.totalRT+perf.totalRT,domainData[matches[2]][type]?(domainData[matches[2]][type].totalCT=domainData[matches[2]][type].totalCT+1,domainData[matches[2]][type].totalRT=domainData[matches[2]][type].totalRT+perf.totalRT):domainData[matches[2]][type]={totalCT:1,totalRT:perf.totalRT}):(domainData[matches[2]]={name:matches[2],type:matches[2]==domainStats.name?"first":"third",stats:{totalCT:1,totalRT:perf.totalRT}},domainData[matches[2]][type]={totalCT:1,totalRT:perf.totalRT})}}}if(i.resourceTracker.s=b,Object.keys(domainData).length>0){var sortedDomains=Object.keys(domainData).sort(function(a,b){return domainData[b].stats.totalRT-domainData[a].stats.totalRT});sortedDomains=sortedDomains.slice(0,20);for(var key in sortedDomains)domainData.hasOwnProperty(sortedDomains[key])&&domainStats.domains.push(domainData[sortedDomains[key]]);return domainStats}return null},addToResInfo:function(i,a){var m=a.name.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i),nm=a.initiatorType&&-1!=i.constants.initiatorTypes.toString().indexOf(a.initiatorType)?a.initiatorType:"Others",res=i.colHelpers.getPerfStats(i,a);m&&m[2]&&(i.domainInfo[m[2]]={count:i.domainInfo[m[2]]?i.domainInfo[m[2]].count+1:1,loadTime:i.domainInfo[m[2]]?i.domainInfo[m[2]].loadTime+res.totalRT:res.totalRT,name:m[2]}),i.resourcesTotal[nm]={loadTime:(i.resourcesTotal[nm]?i.resourcesTotal[nm].loadTime:0)+res.totalRT,count:(i.resourcesTotal[nm]?i.resourcesTotal[nm].count:0)+1,name:nm}},getFormatedTxnName:function(i,name){if("undefined"!=typeof name){var txn=name;return txn=txn.substr(0,txn.indexOf("&")>-1?txn.indexOf("&")-0:txn.length),txn=txn.substr(0,txn.indexOf("#")>-1?txn.indexOf("#")-0:txn.length),txn=i.colHelpers.replaceSpecialChars(txn.replace(/~/g,"").replace(/[a-f0-9]+[0-9][a-f0-9]+/g,"*").replace(/[0-9]+/g,"*")),txn.length>150?txn.substring(0,149):txn}},addPerfStats:function(i,pe1,pe2,params){for(var metricData={},j=0;j<params.length;j++)metricData[params[j]]=pe1[params[j]]+pe2[params[j]];return pe1.totalCT&&pe2.totalCT&&(metricData.totalCT=pe1.totalCT+pe2.totalCT),pe1.status&&pe2.status&&(metricData.status=i.colHelpers.addStatusCode(pe1.status,pe2.status)),metricData},getAverageStats:function(metricData,len,params){for(var i=0;i<params.length;i++)metricData[params[i]]=Math.round(metricData[params[i]]/len);return metricData},getJSErrorDetails:function(info,url,lno,colno,error,i){var errDetails={};if(error&&void 0!=error&&null!=error&&(errDetails.type=error.name,errDetails.msg=i.colHelpers.replaceSpecialChars(error.message),(void 0!=error.stack||void 0!=error.stacktrace)&&(errDetails.trace=i.colHelpers.stackTrace(error.stack?error.stack:error.stacktrace,i))),("undefined"==errDetails.type&&"undefined"==errDetails.msg||!error&&"undefined"!=typeof colno)&&info){var args,e=/([a-zA-z ]*)(:)(.*)/;args=e.exec(info),null!=args&&args.length>3?(errDetails.type=args[1],errDetails.msg=i.colHelpers.replaceSpecialChars(args[3])):(errDetails.type="Uncaught Exception ",errDetails.msg=i.colHelpers.replaceSpecialChars(info))}return url&&"undefined"!=typeof url&&0!=url.length||(url=document.location.pathname),url&&"string"==typeof url&&(errDetails.url=i.colHelpers.getErrTxnName(i,url),errDetails.fname=i.colHelpers.getFileName(i,errDetails.url)),(!errDetails.fname||errDetails.fname.length<=0)&&(errDetails.fname=i.colHelpers.getFileName(i,location.hash)),errDetails.lno=lno,errDetails.cno=colno,!errDetails.type||!errDetails.msg||!errDetails.url||errDetails.type&&errDetails.type.length<=0||errDetails.msg&&(errDetails.msg.length<=0||errDetails.msg.length>150)||errDetails.url&&errDetails.url.length<=0||-1!=errDetails.url.indexOf(insightRUM.scriptName)||!errDetails.fname||errDetails.fname&&errDetails.fname.length<=0?void 0:(errDetails.msg=errDetails.msg.length>100?errDetails.msg.substring(0,100):errDetails.msg,errDetails)},initialiseSPA:function(i,type){"undefined"==typeof window.site24x7rum&&(window.site24x7rum={}),site24x7rum.routeChanges=new Array,i.storeLastAjax(type),setInterval(function(){i.metricsDispatcher(i,"regular")},1e4),performance.onresourcetimingbufferfull=i.colHelpers.clearBuffer()},getStatusCode:function(s){var st="Others";return null!=s&&""!=s&&(st=s.substring(0,1),st="2"==st||"4"==st||"5"==st?st+"xx":"Others"),st},addStatusCode:function(a,b){var sts=Object.keys(b).length>0?Object.keys(b)[0]:"Others",sObj=a;return sObj[sts]||(sObj[sts]=0),sObj[sts]=sObj[sts]+1,sObj},getUniqueID:function(){var nav=window.navigator,screen=window.screen,g=nav.mimeTypes.length,n=nav.userAgent.replace(/\D+/g,"");return g+=n.length>30?n.substring(0,30):n,g+=nav.plugins.length,g+=screen.height||"",g+=screen.width||"",g+=screen.pixelDepth||""},setCookie:function(name,value,days){var date=new Date;days="undefined"==typeof days||0>days?parseInt(new Date(date.getFullYear(),date.getMonth()+1,0).getDate())-parseInt(date.getDate()):days,date.setTime(date.getTime()+24*days*60*60*1e3);var expires="; expires="+date.toGMTString();return document.cookie=name+"="+value+expires+"; path=/",!0},isUserAgentBlocked:function(i){if(window.navigator&&window.navigator.userAgent){var ua=window.navigator.userAgent;for(var u in i)if(""!=i[u]&&ua.indexOf(i[u])>-1)return!0;return!1}return!0},getCookie:function(i,cookieName){var value="",isSet=!1,sMatch=(" "+document.cookie).match(new RegExp("[; ]"+cookieName+"=([^\\s;]*)"));cookieName&&sMatch&&(value=unescape(sMatch[1]));var curT=(new Date).getTime(),ns=performance.timing.navigationStart+i.timeOut<curT?performance.timing.navigationStart:curT;if("site24x7rumID"==cookieName){var nss=!1;if(""!==value){if(value=value.split("."),nss=value[1]+i.timeOut<curT?!0:!1,value[1]=nss?ns:value[1],"undefined"==typeof value[0]||value[0].length>50){var v=i.colHelpers.getUniqueID();value[0]=v.length>50?v.substring(0,50):v}value=value[0]+"."+value[1],isSet=i.colHelpers.setCookie(cookieName,value)&&!1}else value=i.colHelpers.getUniqueID()+"."+ns,isSet=i.colHelpers.setCookie(cookieName,value),nss=!0;return value=value.split("."),{guid:value[0],sstime:value[1],colT:curT,uniqVisitor:isSet,nSes:nss}}return"site24x7RUMSnapshotId"==cookieName?(value.indexOf(".")>-1&&(value=value.split(".")),value):void 0}},initialize:function(i){i.xhrCalls=new Array,i.xhrCallTracker={},i.metrics=new Array,i.pageMetricsSent=!1,i.errors=new Array,i.rawErrors=new Array,i.resourceEntries=new Array,i.collectorData={},i.timeOut=6e5,i.curUrl="",i.pType="static",i.txnT="",i.perfStats={},i.resourceSent=!1,i.collectTrace=!1,i.isOnDemand=!1,i.isCorsSupported="withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest,i.snapshot={},i.sesTrace=new Array,i.domainInfo={},i.resourcesTotal={},i.onPageLoadEntriesLen=0,i.scriptName="rum-min.js",i.collector="//col.site24x7rum.com",i.includeAjaxCalls="undefined"==typeof site24x7rum||"undefined"!=typeof site24x7rum.includeAjaxCalls&&site24x7rum.includeAjaxCalls,i.sendAjaxCalls="undefined"!=typeof site24x7rumProp&&"boolean"==typeof site24x7rumProp.sendAjaxCalls?site24x7rumProp.sendAjaxCalls:"undefined"!=typeof s247RUM&&s247RUM.ajax_enabled?s247RUM.ajax_enabled:!1,i.includeCrossDomainAjaxCalls="undefined"!=typeof site24x7rumProp&&"boolean"==typeof site24x7rumProp.includeCrossDomainAjaxCalls?site24x7rumProp.includeCrossDomainAjaxCalls:"undefined"!=typeof s247RUM&&s247RUM.cx_ajax_enabled?s247RUM.cx_ajax_enabled:!1,i.domainsToExclude=["static.site24x7rum.com","static.site24x7rum.eu","col.site24x7rum.com","col.site24x7rum.eu"],i.userAgentsToBlock=["Mozilla/5.0 (Windows NT 6.1; WOW64; rv:45.0.247) Gecko/20100101 Firefox/45.0.247"],i.userAgentsToBlock="undefined"!=typeof site24x7rumProp&&"undefined"!=typeof site24x7rumProp.userAgentsToBlock?insightRUM.userAgentsToBlock.concat(site24x7rumProp.userAgentsToBlock):"undefined"!=typeof s247RUM&&s247RUM.excluded_useragents?insightRUM.userAgentsToBlock.concat(s247RUM.excluded_useragents):insightRUM.userAgentsToBlock,i.excludedDomains="undefined"!=typeof site24x7rumProp&&site24x7rumProp.excludedDomains?site24x7rumProp.excludedDomains:"undefined"!=typeof s247RUM&&s247RUM.excluded_domains?s247RUM.excluded_domains:[""],i.rumMonType="undefined"!=typeof site24x7rumProp&&"number"==typeof site24x7rumProp.rumMonType?site24x7rumProp.rumMonType:0,i.version=2,i.resourceTracker={s:0,e:i.onPageLoadEntriesLen},"undefined"==typeof window.site24x7rum&&(window.site24x7rum={}),site24x7rum.sessionTrace=new Array,site24x7rum.routeChanges=new Array,i.storeLastAjax=function(type){if(i.xhrCallsLast=insightRUM.xhrCalls,i.xhrCalls=new Array,"spa"==type&&(i.sesTrace=site24x7rum.sessionTrace,site24x7rum.sessionTrace=new Array),i.metricsDispatcher(i,type),"spa"==type){var rc=site24x7rum.routeChanges;i.changeUrl=!0,i.pType="dynamic",i.txnT=Math.round(rc.length>0?window.performance.timing.navigationStart+rc[0].time:i.txnT)}},i.eventHandlers={onerror:function(a){i.rawErrors.push(a);var err=i.colHelpers.getJSErrorDetails(a[0],a[1],a[2],a[3],a[4],i);if(err&&err.fname&&err.lno&&err.cno&&err.type&&err.msg){var data={or:err.fname,lno:err.lno,cno:err.cno};i.colHelpers.addToSession(i,err.type+": "+err.msg,"error",data,i.colHelpers.getCurrentTime())}},onload:function(){document.readyState&&"complete"==document.readyState?(window.performance.getEntries&&(i.onPageLoadEntriesLen=window.performance.getEntries().length),setTimeout(function(){i.colHelpers.initialiseSPA(i,"initial")},0)):window.addEventListener?window.addEventListener("load",function(){window.performance.getEntries&&(i.onPageLoadEntriesLen=window.performance.getEntries().length),setTimeout(function(){i.colHelpers.initialiseSPA(i,"initial")},0)},!1):window.attachEvent&&window.attachEvent("onload",function(){window.performance.getEntries&&(i.onPageLoadEntriesLen=window.performance.getEntries().length),setTimeout(function(){i.colHelpers.initialiseSPA(i,"initial")},0)},!1)},onunload:function(){i.metricsDispatcher(i,"unload")},onkeypress:function(event){var target="";if(event){var e=event.target||event.srcElement;e&&(target=""!=e.id?e.id:""!=e.className?e.className:e.tagName)}target="undefined"!=typeof target&&""!=target?target:"body";var data={or:target};i.colHelpers.addToSession(i,"typing","event",data,i.colHelpers.getCurrentTime())},onclick:function(event){var target="";if(event){var e=event.target||event.srcElement;e&&(target=""!=e.id?e.id:""!=e.className?e.className:e.tagName)}target="undefined"!=typeof target&&""!=target?target:"body";var data={or:target};i.colHelpers.addToSession(i,"click","event",data,i.colHelpers.getCurrentTime())},onscroll:function(event){var target="";if(event){var e=event.target||event.srcElement;e&&(target=""!=e.id?e.id:""!=e.className?e.className:e.tagName)}target="undefined"!=typeof target&&""!=target?target:"body";var data={or:target};i.colHelpers.addToSession(i,"scroll","event",data,i.colHelpers.getCurrentTime())},onhashchange:function(){i.colHelpers.pushRoutes(i,window.location,i.colHelpers.getCurrentTime())},onpopstate:function(){i.colHelpers.pushRoutes(i,window.location,i.colHelpers.getCurrentTime())},ajax_open:function(){XMLHttpRequest.prototype.open=function(open){return function(method,url){try{this._url=url.indexOf("http")>-1?url:document.location.origin+url;var xhrCall={};-1==this._url.indexOf(insightRUM.collector)&&(window.addEventListener?(this.addEventListener("loadstart",function(){xhrCall.name=this._url,xhrCall.st=i.colHelpers.getCurrentTime()},!1),this.addEventListener("loadend",function(){xhrCall.end=i.colHelpers.getCurrentTime(),xhrCall.status=this.status,insightRUM.xhrCalls.push(xhrCall);var d={or:i.colHelpers.getFormatedTxnName(i,document.location.origin)};i.collectTrace&&i.colHelpers.addAjaxToSession(i,xhrCall.name,"ajax",d,xhrCall.st)},!1)):window.attachEvent&&(this.attachEvent("loadstart",function(){xhrCall.name=this._url,xhrCall.st=i.colHelpers.getCurrentTime()},!1),this.attachEvent("loadend",function(){xhrCall.end=i.colHelpers.getCurrentTime(),xhrCall.status=this.status,insightRUM.xhrCalls.push(xhrCall);var d={or:i.colHelpers.getFormatedTxnName(i,document.location.origin)};i.collectTrace&&i.colHelpers.addAjaxToSession(i,xhrCall.name,"ajax",d,xhrCall.st)},!1)))}catch(e){}open.apply(this,arguments)}}(XMLHttpRequest.prototype.open)},onpushstate:function(){!function(history){var pushState=history.pushState;history.pushState=function(){var t=i.colHelpers.getCurrentTime(),res=pushState.apply(history,arguments);return insightRUM.colHelpers.pushRoutes(i,window.location,t),res}}(window.history)},onreplacestate:function(){!function(history){var replaceState=history.replaceState;history.replaceState=function(){var t=i.colHelpers.getCurrentTime(),res=replaceState.apply(history,arguments);return insightRUM.colHelpers.pushRoutes(i,window.location,t),res}}(window.history)}}},metricsCollector:{configInfo:function(i){return{appKey:rumMOKey,version:i.version}},sessionInfo:function(i){var sInfo=i.colHelpers.getCookie(i,"site24x7rumID"),ua=navigator.userAgent.length>200?navigator.userAgent.substring(0,200):navigator.userAgent;return{useragent:ua,sstime:Number(sInfo.sstime),colT:sInfo.colT,usrInfo:{uniqVisitor:sInfo.uniqVisitor,guid:sInfo.guid,nSes:sInfo.nSes}}},dataList:function(i,type){if("regular"==type||"unload"==type){var dataList=[];if(i.sendAjaxCalls)for(var txnsPerSend=0,matches=document.location.host.match(/^(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i),parentDomain=matches&&matches[1]?matches[1]:document.location.host;i.xhrCalls.length>0&&9>txnsPerSend;){var xhr=i.xhrCalls.pop();if(xhr&&xhr.name&&(xhr.name.indexOf(parentDomain)>-1||i.includeCrossDomainAjaxCalls)){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(xhr.name);if(e&&e.length>0){for(var j=i.xhrCallTracker.hasOwnProperty(xhr.name)?i.xhrCallTracker[xhr.name]:0;j<e.length;j++)if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration;var perfStats=i.colHelpers.getPerfStats(i,e[j]);if(perfStats.totalRT<=3e5&&perfStats.totalRT>=perfStats.fbT&&perfStats.fbT>=0){var status={};status[i.colHelpers.getStatusCode(xhr.status+"")]=1,perfStats.type="ajax",perfStats.status=status,dataList.push(perfStats),txnsPerSend++}}i.xhrCallTracker[xhr.name]=j}}}return dataList.length>0?dataList:null}var ajaxCalls={},ajaxCallsMap={},dataList=[];if(site24x7rum.routeChanges.length>1||"initial"==type){var end=0,diff=0,ajax_call="initial"==type?{time:0}:site24x7rum.routeChanges.shift(),perfStats={};"initial"==type?(i.perfStats=perfStats=i.colHelpers.getPerfStats(i,window.performance.timing),i.curUrl=perfStats.txnName,i.pType="static",i.txnT=window.performance.timing.navigationStart):perfStats.rdT=perfStats.dnsT=perfStats.conT=perfStats.nwT=perfStats.sendT=perfStats.fbT=perfStats.beT=perfStats.dlT=perfStats.dpT=perfStats.drT=perfStats.prT=perfStats.feT=perfStats.totalRT=0;for(var xhrLen=0,matches=document.location.host.match(/^(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i),parentDomain=matches&&matches[1]?matches[1]:document.location.host;i.xhrCallsLast.length>0&&(ajax_call.url||i.sendAjaxCalls);){var xhr=i.xhrCallsLast.shift();if(xhr&&xhr.st>=ajax_call.time&&xhr.name&&(xhr.name.indexOf(parentDomain)>-1||i.includeCrossDomainAjaxCalls)){if(window.performance.getEntriesByName)var e=window.performance.getEntriesByName(xhr.name);if(e&&e.length>0){var j=i.xhrCallTracker.hasOwnProperty(xhr.name)?i.xhrCallTracker[xhr.name]:0;if(e[j].duration){e[j].loadEventEnd=e[j].fetchStart+e[j].duration,i.colHelpers.addToResInfo(i,e[j]);var ajax_perfStats=i.colHelpers.getPerfStats(i,e[j]);if(ajax_perfStats.totalRT<=15e4&&ajax_perfStats.totalRT>=ajax_perfStats.fbT&&ajax_perfStats.fbT>=0){xhr.end>end&&(end=xhr.end),xhrLen++;var status={};if(status[i.colHelpers.getStatusCode(xhr.status+"")]=1,ajax_perfStats.status=status,"spa"==type&&(perfStats=i.colHelpers.addPerfStats(i,perfStats,ajax_perfStats,i.constants.perfStats)),ajax_perfStats.totalCT=1,ajaxCallsMap[ajax_perfStats.txnName]){ajaxCalls[ajax_perfStats.txnName]=i.colHelpers.addPerfStats(i,ajaxCalls[ajax_perfStats.txnName],ajax_perfStats,i.constants.perfStats),ajaxCalls[ajax_perfStats.txnName].txnName=ajax_perfStats.txnName;var pAjax=ajaxCallsMap[ajax_perfStats.txnName];ajaxCallsMap[ajax_perfStats.txnName]={totalRT:pAjax.totalRT+ajax_perfStats.totalRT,totalCT:pAjax.totalCT+1,status:pAjax.status}}else ajaxCalls[ajax_perfStats.txnName]=ajax_perfStats,ajaxCallsMap[ajax_perfStats.txnName]={totalRT:ajax_perfStats.totalRT,totalCT:1,status:status}}}i.xhrCallTracker[xhr.name]=j}}}if("spa"==type&&ajax_call.url){perfStats.ajaxCallsMap=ajaxCallsMap;var totalTime=end-ajax_call.time;perfStats=i.colHelpers.getAverageStats(perfStats,xhrLen,i.constants.perfStats),diff=totalTime-perfStats.totalRT,diff>0&&(perfStats.drT=perfStats.dpT=perfStats.dpT+diff,perfStats.feT+=diff,perfStats.totalRT+=diff),perfStats.txnName=i.colHelpers.getFormatedTxnName(i,ajax_call.url),i.curUrl=perfStats.txnName}perfStats.type=type,perfStats.totalRT>0&&perfStats.totalRT<15e4&&(i.perfStats=perfStats,dataList.push(perfStats),dataList=dataList.concat(i.colHelpers.getAsArray(ajaxCalls,25,"totalRT")))}return dataList.length>0?dataList:null},domainStats:function(i,type){return"initial"==type?i.colHelpers.getDomainMetrics(i,i.resourceTracker.s,i.onPageLoadEntriesLen,type):("unload"==type||"spa"==type)&&window.performance.getEntries&&i.resourceTracker.s<window.performance.getEntries().length?(i.resourceTracker.e=window.performance.getEntries().length,i.colHelpers.getDomainMetrics(i,i.resourceTracker.s,i.resourceTracker.e,type)):void 0},errorList:function(i,type){if("initial"!=type){for(var errorsPerSend=0,errorList=[];i.rawErrors.length>0&&9>errorsPerSend;){var err=i.rawErrors.pop();if(err){var errDetails=i.colHelpers.getJSErrorDetails(err[0],err[1],err[2],err[3],err[4],i);errDetails&&(errorList.push(errDetails),errorsPerSend++)}}return errorList.length>0?errorList:null}return null},sendSnapshotInfo:function(i,type){return"initial"==type&&""==i.colHelpers.getCookie(i,"site24x7RUMSnapshotId")?!0:!1},sesTrace:function(i,type){if("trace"==type&&!i.resourceSent)return i.colHelpers.getAllResourceTimings(i);if(i.resourceSent&&i.collectTrace){var trace={},ns=window.performance.timing.navigationStart,cookie=i.colHelpers.getCookie(i,"site24x7RUMSnapshotId");if(i.resourceSent&&""!=cookie&&Number(cookie[0])+i.timeOut>(new Date).getTime()){if("spa"==type&&(trace.entriesList=i.sesTrace,trace.sT=i.txnT,trace.sescolT=Number(cookie[0]),trace.url=i.curUrl,trace.isOnDemand=cookie[1],trace.pType=i.pType,trace.endTime=Math.round(i.colHelpers.getCurrentTime()-(i.txnT-ns)),Object.keys(i.domainInfo).length>0&&Object.keys(i.resourcesTotal).length>0&&(trace.totalRT=i.perfStats.totalRT,trace.endTime<trace.totalRT&&(trace.endTime+=trace.totalRT),trace.domainInfo=i.colHelpers.getObjAsArray(i.domainInfo),trace.resourceCT=trace.domainInfo[0].count,trace.resourcesTotal=i.colHelpers.getObjAsArray(i.resourcesTotal),i.domainInfo={},i.resourcesTotal={})),"regular"==type){if(trace.entriesList=site24x7rum.sessionTrace,site24x7rum.sessionTrace=new Array,i.changeUrl){var url=""!=window.location.hash?window.location.hash.replace("#",""):window.location.pathname;i.curUrl=i.colHelpers.getFormatedTxnName(i,url)}trace.url=i.curUrl,trace.isOnDemand=cookie[1],trace.pType=i.pType,trace.sescolT=Number(cookie[0]),trace.sT=i.txnT,trace.endTime=Math.round(i.colHelpers.getCurrentTime()-(i.txnT-ns))}return trace.entriesList&&trace.entriesList.length>0||trace.domainInfo?trace:null}return site24x7rum.sessionTrace=new Array,i.collectTrace=!1,null}return"regular"!=type||i.resourceSent?null:(site24x7rum.sessionTrace=new Array,i.collectTrace=!1,null)}},metricsDispatcher:function(i,type){try{var metrics={},url=i.collector+("initial"==type?"/rum/data":"/rum/trace");for(var key in i.metricsCollector)if(i.metricsCollector.hasOwnProperty(key)){var m=i.metricsCollector[key](i,type);null!=m&&(metrics[key]=m)}if("trace"==type&&(i.resourceSent=!0),void 0!=metrics.dataList||void 0!=metrics.errorList||void 0!=metrics.sesTrace||void 0!=metrics.domainStats){metrics=JSON.stringify(metrics);var xhr="withCredentials"in new XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:null;try{return xhr?(xhr.open("POST",url),xhr.onload=function(){i.responseHandler(i,xhr.responseText)},xhr.send(metrics),!0):!1}catch(e){}}}catch(e){}},responseHandler:function(i,response){i.collectorData=JSON.parse(response);var ssCookie=i.colHelpers.getCookie(i,"site24x7RUMSnapshotId");i.collectorData.sendSnaspshot&&i.collectorData.Threshold&&i.perfStats.totalRT>i.collectorData.Threshold?(i.isOnDemand=i.collectorData.isOndemand?!0:!1,i.colHelpers.setCookie("site24x7RUMSnapshotId",i.txnT+"."+i.isOnDemand,1/24),i.metricsDispatcher(i,"trace"),i.resourceSent=!0):i.collectorData.snapshotAdded?i.collectTrace=!0:""!=ssCookie&&!i.resourceSent&&Number(ssCookie[0])+i.timeOut>(new Date).getTime()&&(i.metricsDispatcher(i,"trace"),i.resourceSent=!0),i.colHelpers.clearBuffer()}};Object.keys=Object.keys||function(o,k,r){r=[];for(k in o)r.hasOwnProperty.call(o,k)&&r.push(k);return r};var initInsightEvent=function(w,a){var p=w[a];"onerror"==a?w[a]=function(){try{insightRUM.eventHandlers[a](arguments)}catch(e){}"function"==typeof p?p.apply(this,arguments):""}:"onload"==a?insightRUM.eventHandlers[a]():w[a]=function(arg){try{arg=arg||window.event,insightRUM.eventHandlers["on"+arg.type](arg)}catch(e){}"function"==typeof p?p.apply(this,arguments):""}};if(function(i,a){var isAllowed=!0,m=window.location.href.match(/^(https|http)?:\/\/(?:www\.)?([^/:?#]+)(?:[/:?#]|$)/i);
m&&m[2]&&(pDomain=m[2]);for(var d=0;d<i.excludedDomains.length;d++)""!=i.excludedDomains[d]&&pDomain.indexOf(i.excludedDomains[d])>=0&&(isAllowed=!1);if(i.isCorsSupported&&isAllowed&&!i.colHelpers.isUserAgentBlocked(i.userAgentsToBlock))for(var j=0;j<a.length;j++)"undefined"!=typeof window[a[j]]?initInsightEvent(window,a[j]):"undefined"!=typeof document[a[j]]?initInsightEvent(document,a[j]):i.eventHandlers[a[j]](arguments);"undefined"!=typeof s247RUM&&insightTMRUM.deploy(s247RUM)}(insightRUM,function(){insightRUM.initialize(insightRUM);var arr=insightRUM.constants.events;if(window.performance&&window.performance.getEntries&&insightRUM.includeAjaxCalls&&arr.push("ajax_open"),2==insightRUM.rumMonType){var usePushState=!!window.history&&!!window.history.pushState;arr=arr.concat(insightRUM.colHelpers.addSPAEvents(usePushState))}else if(3==insightRUM.rumMonType){var ua=navigator.userAgent,isIOSWebView=/(iPad|iPhone|iPod);.*CPU.*OS 7_\d.*AppleWebKit/i.test(ua)&&-1===ua.indexOf("Safari"),usePushState=!(!window.history.pushState||ua.indexOf("Android ")>-1&&ua.indexOf("Mozilla/5.0")>-1&&ua.indexOf("AppleWebKit")>-1&&-1===ua.indexOf("Chrome")||isIOSWebView);arr=arr.concat(insightRUM.colHelpers.addSPAEvents(usePushState))}return arr}()),!JSON){var JSON;JSON={},function(){"use strict";function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;length>i;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;length>i;i+=1)"string"==typeof rep[i]&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}var gap,indent,rep,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;space>i;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})})}()}

